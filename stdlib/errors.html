<HTML><BODY>
<H1>errors</H1>
<P><b>Maps errors and warnings into <a href="../modules/standard.html#ErrorException"><code>ErrorException</code></a></b></P><P><B>Version:</B> $Date: 2012/02/01 23:34:43 $</P>
<P><B>PHP version:</B> 5</P>
<P><B>Required modules:</B>
<a href="../modules/standard.html"><code>standard</code></a><P>
<P><B>Required packages:</B>
<I>none</I><P>
<P><B>Author:</B> Umberto Salsi &lt;salsi@icosaedro.it&gt;</P>
<P>
This package makes
	aware PHPLint that errors raised by system functions and errors raised by
	user code through <code>trigger_error()</code> are just like if a <a href="../modules/standard.html#ErrorException"><code>ErrorException</code></a> were thrown, and at runtime that exception is actually
	thrown whenever an error occurs.
<p>
	Errors that are detected:
	<a href="../modules/standard.html#E_WARNING"><code>E_WARNING</code></a>,
	<a href="../modules/standard.html#E_NOTICE"><code>E_NOTICE</code></a>,
	<a href="../modules/standard.html#E_STRICT"><code>E_STRICT</code></a>,
	<a href="../modules/standard.html#E_USER_ERROR"><code>E_USER_ERROR</code></a>,
	<a href="../modules/standard.html#E_USER_WARNING"><code>E_USER_WARNING</code></a>,
	<a href="../modules/standard.html#E_USER_NOTICE"><code>E_USER_NOTICE</code></a>.
	Note that parse-time errors, compile-time errors and core-errors cannot
	be detected at runtime as always cause an abrupt termination of the
	program.
<p>
	Moreover, this package also sets the error level to the maximum allowed
	by calling <a href="../modules/standard.html#error_reporting()"><code>error_reporting(E_ALL|E_STRICT)</code></a>.
<p>
	All this provides two important benefits: 1) source code becomes simpler,
	because errors can be handled just like any other exception; 2) higher
	safety level at runtime because exceptions ensure that errors are either
	detected and handled properly or the program terminates.
<p>
	If this package is included, then the error silencer <code>@</code> cannot
	be used anymore, but you must use <code>try/catch</code> instead.
<p>
	Then, for example, the "classic" error handling pattern
<p>
	<pre>
	$f = @fopen("afile.txt", "r");
	if( $f === FALSE )
		die($php_errormsg);
	</pre>
<p>
	can be rewritten as
<p>
	<pre>
	try {
		$f = fopen("afile.txt", "r");
	} catch(ErrorException $e){
		die($e-&gt;getMessage());
	}
	</pre>
<p>
	Note that the <a href="../modules/standard.html#fopen()"><code>fopen()</code></a> function may raise <a href="../modules/standard.html#E_WARNING"><code>E_WARNING</code></a> and this
	error gets mapped into <a href="../modules/standard.html#ErrorException"><code>ErrorException</code></a> both by PHPLint and at
	runtime. Moreover, note that also bare <a href="../modules/standard.html#E_NOTICE"><code>E_NOTICE</code></a>s now raises the
	same exception (using undefined variables, using an invalid kay in array,
	etc.), so you must always validate your code with PHPLint and carefully
	check your code to prevent fatal runtime exceptions.
<p>
	Note that <a href="../modules/standard.html#ErrorException"><code>ErrorException</code></a> is a checked exception (not an unchecked
	one), so you must either catch it or declare that exception to be thrown by
	functions and methods as in this example:
<p>
	<pre>
	public function readData($fn)
		/&#42;. throws ErrorException .&#42;/
	{
		$f = fopen($fn, "r");
		$data = fread($f, 1024);
		fclose($f);
		# Here: do something with read data.
	}
	</pre>
<p>
	Note that if error remapping into exceptions is enabled by including this
	module, then the whole program and libraries used must follow this same
	error handling schema. PHPLint raises an error if it detects a mixed usage
	of the old error-based schema and the new exception-based schema
	implemented by this package.
<p>




</P>
<HR>
<PRE>

</PRE>
<h2>Private items</h2>
<blockquote>
<code>phplint_exception_handler()</code><br>
<code>phplint_error_level()</code><br>
<code>phplint_error_handler()</code><br>

</blockquote>

<HR><P align=right><FONT size='-2'>Generated by <a href="http://www.icosaedro.it/phplint/"><code>PHPLint Documentator</code></a></FONT></P>
</BODY></HTML>
